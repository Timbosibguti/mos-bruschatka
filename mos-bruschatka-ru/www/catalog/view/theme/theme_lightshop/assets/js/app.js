/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"app": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./src/app.js","vendors"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var slick_carousel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slick-carousel */ \"./node_modules/slick-carousel/slick/slick.js\");\n/* harmony import */ var slick_carousel__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(slick_carousel__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jquery_lazy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery-lazy */ \"./node_modules/jquery-lazy/jquery.lazy.js\");\n/* harmony import */ var jquery_lazy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery_lazy__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _fancyapps_fancybox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @fancyapps/fancybox */ \"./node_modules/@fancyapps/fancybox/dist/jquery.fancybox.js\");\n/* harmony import */ var _fancyapps_fancybox__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_fancyapps_fancybox__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var inputmask_dist_jquery_inputmask_bundle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! inputmask/dist/jquery.inputmask.bundle */ \"./node_modules/inputmask/dist/jquery.inputmask.bundle.js\");\n/* harmony import */ var inputmask_dist_jquery_inputmask_bundle__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(inputmask_dist_jquery_inputmask_bundle__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var jquery_placeholder__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery-placeholder */ \"./node_modules/jquery-placeholder/jquery.placeholder.js\");\n/* harmony import */ var jquery_placeholder__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery_placeholder__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _scripts_functions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./scripts/functions */ \"./src/scripts/functions.js\");\n/* harmony import */ var _scripts_functions__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_scripts_functions__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _scripts_metrics__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./scripts/metrics */ \"./src/scripts/metrics.js\");\n/* harmony import */ var _scripts_metrics__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_scripts_metrics__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _styles_bs4_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./styles/bs4.scss */ \"./src/styles/bs4.scss\");\n/* harmony import */ var _styles_bs4_scss__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_styles_bs4_scss__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _styles_main_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./styles/main.scss */ \"./src/styles/main.scss\");\n/* harmony import */ var _styles_main_scss__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_styles_main_scss__WEBPACK_IMPORTED_MODULE_8__);\n\r\n\r\n\r\n\r\n\r\n\r\n__webpack_require__(/*! jquery-lazy/plugins/jquery.lazy.iframe */ \"./node_modules/jquery-lazy/plugins/jquery.lazy.iframe.js\");\r\n__webpack_require__(/*! webpack-jquery-ui/slider */ \"./node_modules/webpack-jquery-ui/slider.js\");\r\n__webpack_require__(/*! webpack-jquery-ui/effects */ \"./node_modules/webpack-jquery-ui/effects.js\");\r\n__webpack_require__(/*! current-device */ \"./node_modules/current-device/es/index.js\");\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/app.js?");

/***/ }),

/***/ "./src/scripts/functions.js":
/*!**********************************!*\
  !*** ./src/scripts/functions.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/* Opencart functions */\r\nlet content1 = '#cart';\r\nlet content2 = '#popupCart';\r\nlet counter = '.js-counter';\r\nlet shakeUiConfig = {\r\n    times: 3,\r\n    distance: 5,\r\n};\r\n\r\nfunction getURLVar(key) {\r\n    var value = [];\r\n\r\n    var query = document.location.search.split('?');\r\n\r\n    if (query[1]) {\r\n        var part = query[1].split('&');\r\n\r\n        for (i = 0; i < part.length; i++) {\r\n            var data = part[i].split('=');\r\n\r\n            if (data[0] && data[1]) {\r\n                value[data[0]] = data[1];\r\n            }\r\n        }\r\n \r\n        if (value[key]) {\r\n            return value[key];\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n}\r\n\r\nlet cart = {\r\n    'add': function(data, successCallback) {\r\n        $.ajax({\r\n            url: 'index.php?route=checkout/cart/add',\r\n            type: 'post',\r\n            data: data,\r\n            dataType: 'json'\r\n        }).done(function(json) {\r\n            $('.product-page__input-box-error').remove();\r\n\r\n            if (json['error']) {\r\n                if (json['error']['option']) {\r\n                    for (let i in json['error']['option']) {\r\n                        var element = $('#input-option' + i.replace('_', '-'));\r\n\r\n                        if (element.parent().hasClass('select')) {\r\n                        element.next().after('<div class=\"product-page__input-box-error\">' + json['error']['option'][i] + '</div>');\r\n                        } else {\r\n                        element.after('<div class=\"product-page__input-box-error\">' + json['error']['option'][i] + '</div>');\r\n                        }\r\n                    }\r\n                }\r\n                \r\n                if (json['error']['recurring']) {\r\n                    $('select[name=\\'recurring_id\\']').next().after('<div class=\"product-page__input-box-error\">' + json['error']['recurring'] + '</div>');\r\n                }\r\n            } else {\r\n                $(content2).load('/index.php?route=common/cart/info', function() {\r\n                    $(counter).html(json['total']);\r\n                });\r\n\r\n                successCallback();\r\n            }\r\n\r\n        }).fail(function(xhr, ajaxOptions, thrownError) {\r\n            alert(thrownError + \"\\r\\n\" + xhr.statusText + \"\\r\\n\" + xhr.responseText);\r\n        });\r\n    },\r\n    'fastAdd': function(data, successCallback) {\r\n        $.ajax({\r\n            url: (Object.keys(data).length < 2) ? 'index.php?route=checkout/cart/fastAdd' : 'index.php?route=checkout/cart/add',\r\n            type: 'POST',\r\n            data: data,\r\n        }).done(function(response) {\r\n            successCallback();\r\n            $(content2).load('index.php?route=common/cart/info', function() {\r\n                $(counter).html(response['total_products'] ? response['total_products'] : response['total']);\r\n            });\r\n        }).fail(function(xhr, ajaxOptions, thrownError) {\r\n            alert(thrownError + \"\\r\\n\" + xhr.statusText + \"\\r\\n\" + xhr.responseText);\r\n        });\r\n    },\r\n    'update': function(data) {\r\n        $.ajax({\r\n            url: 'index.php?route=checkout/cart/edit',\r\n            type: 'post',\r\n            data: data,\r\n\r\n            beforeSend: function() {\r\n                //$contents.addClass('loading');\r\n            },\r\n            complete: function() {\r\n                //$contents.removeClass('loading');\r\n            }\r\n        }).done(function(html) {\r\n            $(content1).replaceWith($(html).find(content1));\r\n            $(content2).replaceWith($(html).find(content2));\r\n            $(counter).html($(html).find(counter).eq(0).html());\r\n        }).fail(function(xhr, ajaxOptions, thrownError) {\r\n            alert(thrownError + \"\\r\\n\" + xhr.statusText + \"\\r\\n\" + xhr.responseText);\r\n        });\r\n    },\r\n    'remove': function(key) {\r\n        $.ajax({\r\n            url: 'index.php?route=checkout/cart/remove',\r\n            type: 'post',\r\n            data: 'key=' + key,\r\n        }).done(function(html) {\r\n            $(content1).replaceWith($(html).find(content1));\r\n            $(content2).replaceWith($(html).find(content2));\r\n            $(counter).html($(html).find(counter).eq(0).html());\r\n        }).fail(function(xhr, ajaxOptions, thrownError) {\r\n            alert(thrownError + \"\\r\\n\" + xhr.statusText + \"\\r\\n\" + xhr.responseText);\r\n        });\r\n    },\r\n    'clear': function() {\r\n        $.ajax({\r\n            url: 'index.php?route=checkout/cart/clear',\r\n        }).done(function() {\r\n            window.location.reload();\r\n        }).fail(function(xhr, ajaxOptions, thrownError) {\r\n            alert(thrownError + \"\\r\\n\" + xhr.statusText + \"\\r\\n\" + xhr.responseText);\r\n        });\r\n    }\r\n}\r\n\r\nlet voucher = {\r\n    'add': function() {\r\n\r\n    },\r\n    'remove': function(key) {\r\n        $.ajax({\r\n            url: 'index.php?route=checkout/cart/remove',\r\n            type: 'post',\r\n            data: 'key=' + key,\r\n            dataType: 'json',\r\n            beforeSend: function() {\r\n                //$('#cart > button').button('loading');\r\n            },\r\n            complete: function() {\r\n                //$('#cart > button').button('reset');\r\n            },\r\n            success: function(json) {\r\n                // Need to set timeout otherwise it wont update the total\r\n                setTimeout(function () {\r\n                        if (json['total'] > 0) {\r\n                            $(counter).html($(html).find(counter).eq(0).html());\r\n                        } else {\r\n                            $('#cart-total').html('');\r\n                        }\r\n                }, 100);\r\n\r\n                var now_location = String(document.location.pathname);\r\n\r\n                if ((now_location == '/cart/') || (now_location == '/checkout/') || (getURLVar('route') == 'checkout/cart') || (getURLVar('route') == 'checkout/checkout')) {\r\n                    location = 'index.php?route=checkout/cart';\r\n                } else {\r\n                    $('#cart .js-cart-bottom').load('index.php?route=common/cart/info .scroll-container');\r\n                    $('#cart .js-cart-title').load('index.php?route=common/cart/info .js-cart-items',function(){\r\n                    svgFix();fancyFastCart();\r\n                    });\r\n                }\r\n            },\r\n            error: function(xhr, ajaxOptions, thrownError) {\r\n                alert(thrownError + \"\\r\\n\" + xhr.statusText + \"\\r\\n\" + xhr.responseText);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nlet wishlist = {\r\n    'add': function(product_id) {\r\n        $.ajax({\r\n            url: 'index.php?route=account/wishlist/add',\r\n            type: 'post',\r\n            data: 'product_id=' + product_id,\r\n            dataType: 'json',\r\n            complete: function() {\r\n                getCompareWish();\r\n            },\r\n            success: function(json) {\r\n                $('.alert').remove();\r\n\r\n                if (json['redirect']) {\r\n                    location = json['redirect'];\r\n                }\r\n\r\n                if (json['success']) {\r\n                    $('.alerts').append($('<div class=\"alert alert--green\"><span class=\"alert__text\"> ' + json['success'] + ' </span><a href=\"#\" class=\"alert__close\">x</a></div>').hide().fadeIn(500));\r\n                    alertClose();\r\n                }\r\n\r\n                $('#wishlist-total span').html(json['total']);\r\n                $('#wishlist-total').attr('title', json['total']);\r\n\r\n                //$('html, body').animate({ scrollTop: 0 }, 'slow');\r\n            },\r\n            error: function(xhr, ajaxOptions, thrownError) {\r\n                alert(thrownError + \"\\r\\n\" + xhr.statusText + \"\\r\\n\" + xhr.responseText);\r\n            }\r\n        });\r\n    },\r\n    'remove': function() {\r\n\r\n    }\r\n}\r\n\r\nlet compare = {\r\n    'add': function(product_id) {\r\n        $.ajax({\r\n            url: 'index.php?route=product/compare/add',\r\n            type: 'post',\r\n            data: 'product_id=' + product_id,\r\n            dataType: 'json',\r\n            complete: function() {\r\n                getCompareWish();\r\n            },\r\n            success: function(json) {\r\n                $('.alert').remove();\r\n\r\n                if (json['success']) {\r\n                    $('.alerts').append($('<div class=\"alert alert--green\"><span class=\"alert__text\"> ' + json['success'] + ' </span><a href=\"#\" class=\"alert__close\">x</a></div>').hide().fadeIn(500));\r\n                    alertClose();\r\n\r\n                    $('#compare-total').html(json['total']);\r\n                    //$('html, body').animate({ scrollTop: 0 }, 'slow');\r\n                }\r\n            },\r\n            error: function(xhr, ajaxOptions, thrownError) {\r\n                alert(thrownError + \"\\r\\n\" + xhr.statusText + \"\\r\\n\" + xhr.responseText);\r\n            }\r\n        });\r\n\r\n    },\r\n    'remove': function() {\r\n\r\n    }\r\n}\r\n\r\nlet review = {\r\n    'add': function(product_id) {\r\n        $.ajax({\r\n            url: 'index.php?route=product/product/write&product_id=' + product_id,\r\n            type: 'post',\r\n            dataType: 'json',\r\n            data: $(\"#form-review\").serialize(),\r\n            beforeSend: function() {\r\n                $('#form-review > button').attr('disabled', 'disabled');\r\n            },\r\n            complete: function() {\r\n                $('#form-review > button').removeAttr('disabled');\r\n            },\r\n            success: function(json) {\r\n                $('.alert--red, .alert--green').remove();\r\n                if (json['error']) {\r\n                    $('h3').before('<div class=\"alert alert--red\" style=\"margin-bottom: 20px;\"><span class=\"alert__text\">' + json['error'] + '</span></div>');\r\n                        setTimeout(function(){\r\n                            $('.alert--red').remove();\r\n                        }, 5000)\r\n                }\r\n                if (json['success']) {\r\n                    $('h3').before('<div class=\"alert alert--green\" style=\"margin-bottom: 20px;\"><span class=\"alert__text\"> ' + json['success'] + '</span></div>');\r\n                    $('input[name=\\'name\\']').val('');\r\n                    $('textarea[name=\\'text\\']').val('');\r\n                    $('input[name=\\'rating\\']:checked').prop('checked', false);\r\n                        setTimeout(function(){\r\n                            $('.alert--green').remove();\r\n                            $.fancybox.close();\r\n                        }, 5000)\r\n                }\r\n            }\r\n        });\r\n    },\r\n}\r\n\r\nlet comment = {\r\n    'add': function(blog_id) {\r\n        $.ajax({\r\n            url: 'index.php?route=extension/module/lightshop_blog/write&blog_id=' + blog_id,\r\n            type: 'post',\r\n            dataType: 'json',\r\n            data: $(\"#form-comment\").serialize(),\r\n            beforeSend: function() {\r\n                $('#form-comment > button').attr('disabled', 'disabled');\r\n            },\r\n            complete: function() {\r\n                $('#form-comment > button').removeAttr('disabled');\r\n            },\r\n            success: function(json) {\r\n                $('.alert--red, .alert--green').remove();\r\n                if (json['error']) {\r\n                    $('.message').append('<div class=\"alert alert--red\" style=\"margin-bottom: 20px;\"><span class=\"alert__text\">' + json['error'] + '</span></div>');\r\n                        setTimeout(function(){\r\n                            $('.alert--red').remove();\r\n                        }, 5000)\r\n                }\r\n                if (json['success']) {\r\n                    $('.message').append('<div class=\"alert alert--green\" style=\"margin-bottom: 20px;\"><span class=\"alert__text\"> ' + json['success'] + '</span></div>');\r\n                    $('input[name=\\'name\\']').val('');\r\n                    $('textarea[name=\\'text\\']').val('');\r\n                    $('input[name=\\'email\\']:checked').prop('checked', false);\r\n                        setTimeout(function(){\r\n                            $('.alert--green').remove();\r\n                            $.fancybox.close();\r\n                        }, 5000)\r\n                }\r\n            }\r\n        });\r\n    },\r\n}\r\n/* end Opencart functions */\r\n\r\n/* auto */\r\nfunction labelSelection() {\r\n    /**\r\n     * Just toggling label's state\r\n     */\r\n    let label = '.js-label-selection';\r\n    let input = '.js-label-selection input';\r\n    let state = 'active';\r\n    let filterAttr = 'name';\r\n\r\n    $(document).on('change', input, function() {\r\n        let prop = $(this).attr(filterAttr);\r\n\r\n        $(`${input}[${filterAttr}=\"${prop}\"]`).each(function() {\r\n            if( this.checked ) {\r\n                $(this).closest(label).addClass(state);\r\n            } else {\r\n                $(this).closest(label).removeClass(state);\r\n            }\r\n        })\r\n    });\r\n}\r\n\r\nfunction checkInputNumber() {\r\n    let min = 1;\r\n    let value = undefined;\r\n    let input = 'input[type=\"number\"]';\r\n\r\n    $(document).on('input', input, function() {\r\n        if(this.value < min) {\r\n            this.value = value;\r\n        } else {\r\n            value = this.value;\r\n        }\r\n    })\r\n}\r\n\r\nfunction lazyload() {\r\n    let $selectors = $('img[data-src], .js-load-iframe, .js-load-bg');\r\n\r\n    let instance = $selectors.lazy({\r\n        chainable: false,\r\n        visibleOnly: true,\r\n        enableThrottle: true,\r\n        throttle: 600,\r\n    });\r\n\r\n    $(document).on('click swipe afterChange', function() {\r\n        setTimeout(function() {\r\n            instance.update();\r\n        }, 300);\r\n    })\r\n}\r\n/* End auto */\r\n\r\nfunction slickSlidersInit() {\r\n    /**\r\n     * All single row sliders must have option rows: 0;\r\n     * This is to fix unwanted nested div\r\n     */\r\n    let slideshowArray = ['.js-comments-home-slider', '.js-examples-slideshow', '.js-projects-slideshow-imgs', '.js-teams-slideshow', '.js-recomend-slider'];\r\n\r\n    let simpleSlideConfig = {\r\n        rows: 0,\r\n        dots: false,\r\n        arrows: true,\r\n        autoplay: true,\r\n        autoplaySpeed: 10000,\r\n        nextArrow: '<button type=\"button\" class=\"icon-slick icon-slick--next icon-slick--simple\"></button>',\r\n        prevArrow: '<button type=\"button\" class=\"icon-slick icon-slick--prev icon-slick--simple\"></button>'\r\n    };\r\n\r\n    let recomSlideConfig = {\r\n        rows: 0,\r\n        dots: false,\r\n        arrows: false,\r\n        autoplay: true,\r\n        slidesToShow: 3,\r\n        autoplaySpeed: 10000,\r\n         responsive: [\r\n    {\r\n      breakpoint: 576,\r\n      settings: {\r\n        arrows: false,\r\n        centerMode: true,\r\n        centerPadding: '40px',\r\n        slidesToShow: 1\r\n      }\r\n    },\r\n    {\r\n      breakpoint: 414,\r\n      settings: {\r\n        arrows: false,\r\n        centerMode: true,\r\n        centerPadding: '40px',\r\n        slidesToShow: 1\r\n      }\r\n    }\r\n  ]\r\n    }\r\n\r\n    let slickCounter = '<span class=\"slick-counter\">' +\r\n                            '<span class=\"slick-current-slide-index\">1</span>' +\r\n                            '<span class=\"slick-counter__separator\">/</span>' +\r\n                            '<span class=\"slick-slides-number\">5</span>' +\r\n                        '</span>'\r\n\r\n    slickSliders();\r\n    let isFiltered = false;\r\n\r\n    $('.js-slick-filter').on('click', function(e) {\r\n        e.preventDefault();\r\n        let filter = $(this).data('slick-filter');\r\n        let slider = $(this).data('slick-slider');\r\n\r\n        if(isFiltered) {\r\n            $(slider).slick('slickUnfilter');\r\n            isFiltered = false;\r\n        }\r\n\r\n        $('.js-slick-filter.active').not($(this)).removeClass('active');\r\n\r\n        if($(this).hasClass('active')) {\r\n            $(this).removeClass('active');\r\n        } else {\r\n            $(this).addClass('active');\r\n            $(slider).slick('slickFilter', filter);\r\n            isFiltered = true;\r\n        }\r\n\r\n        counter(slider);\r\n    });\r\n\r\n    $('.js-projects-slideshow-infos, .js-projects-slideshow-titles').slick({\r\n        rows: 0,\r\n        arrows: false,\r\n        asNavFor: '.js-projects-slideshow-imgs',\r\n        fade: true\r\n    });\r\n    \r\n    $('.js-projects-slideshow-imgs').slick('slickSetOption', {'asNavFor': '.js-projects-slideshow-infos, .js-projects-slideshow-titles'}, true);\r\n\r\n    $('.js-partners-slideshow-imgs').slick({\r\n        rows: 0,\r\n        dots: false,\r\n        arrows: true,\r\n        autoplay: true,\r\n        slidesToShow: 4,\r\n        autoplaySpeed: 10000,\r\n        nextArrow: '<button type=\"button\" class=\"icon-slick icon-slick--next icon-slick--simple\"></button>',\r\n        prevArrow: '<button type=\"button\" class=\"icon-slick icon-slick--prev icon-slick--simple\"></button>'\r\n    });\r\n\r\n    $('.js-about-slider').slick({\r\n        rows: 0,\r\n        dots: false,\r\n        arrows: false,\r\n        asNavFor: '.js-about-nav-slider',\r\n        fade: true,\r\n    });\r\n\r\n    $('.js-about-nav-slider').slick({\r\n        rows: 0,\r\n        dots: false,\r\n        arrows: false,\r\n        autoplay: true,\r\n        slidesToShow: 4,\r\n        infinite: true,\r\n        autoplaySpeed: 10000,\r\n        infinite: true,\r\n        asNavFor: '.js-about-slider',\r\n    });\r\n\r\n    $('.js-about-nav-slider .slick-slide').on('click', function() {\r\n        let index = $(this).data('slick-index');\r\n\r\n        $('.js-about-nav-slider').slick('slickGoTo', index);\r\n    });\r\n\r\n    function slickSliders() {\r\n        $.each(slideshowArray, function(index, slideshow) {\r\n            if(slideshow === '.js-recomend-slider') {\r\n                $(slideshow).slick(recomSlideConfig);\r\n            } else {\r\n                $(slideshow).slick(simpleSlideConfig);\r\n                $(slideshow +'.slick-initialized').append(\r\n                    slickCounter\r\n                );\r\n                counter(slideshow);\r\n                $(slideshow).on('reInit beforeChange', function(event, slick, currentSlide, nextSlide) {\r\n                    let id = $(this).find('.slick-current .js-youtube').attr('id');\r\n                    if(players[id]) {\r\n                        players[id].pauseVideo();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    function counter(slideshow) {\r\n        let totalSlides = Number($(slideshow +' .slick-cloned').length) - 1;\r\n\r\n        $(slideshow + ' .slick-slides-number').html(totalSlides);\r\n        $(slideshow).on('reInit afterChange', function(event, slick, currentSlide) {\r\n            totalSlides = Number($(slideshow +' .slick-cloned').length) - 1;\r\n\r\n            $(slideshow + ' .slick-slides-number').html(totalSlides);\r\n            if(!currentSlide) {\r\n                currentSlide = $(this).slick('slickCurrentSlide');\r\n            }\r\n            if(currentSlide >= totalSlides) {\r\n                $(this).slick('slickGoTo', 0);\r\n            }\r\n            $(slideshow + ' .slick-current-slide-index').html(currentSlide + 1);\r\n        });\r\n    }\r\n}\r\n\r\nfunction youtube() {\r\n    let $youtube = $(\".js-youtube\");\r\n\r\n    /* LAZYLOAD ALL VIDEOS */\r\n    for (let i = 0; i < $youtube.length; i++) {\r\n        let src = \"https://img.youtube.com/vi/\"+ $youtube.eq(i).data('embed') +\"/maxresdefault.jpg\";\r\n\r\n        $youtube.eq(i).append('<img data-src=\"' + src + '\" alt=\"mosbruschatka video\" />');\r\n    }\r\n}\r\n\r\nfunction forms() {\r\n    $(document).on('submit', '.js-form-callback', function(e) {\r\n        e.preventDefault();\r\n        let $self = $(this);\r\n        let formTitle = $(this).data('form-title');\r\n        let $submitBtn = $self.find('[type=\"submit\"]');\r\n        let data = $self.serialize() + '&title=' + encodeURIComponent(formTitle);\r\n        let stateBtnText = [$submitBtn.html(), 'Отправляем', 'Отправлено'];\r\n\r\n        $self.find(`input`).removeClass('input-error');\r\n\r\n        $.ajax({\r\n            url: 'mail/callback.php',\r\n            type: 'POST',\r\n            data: data,\r\n            dataType: 'JSON',\r\n            beforeSend: function() {\r\n                $submitBtn.attr('disabled', 'disabled').html(stateBtnText[1]);\r\n            },\r\n            complete: function() {\r\n\r\n            }\r\n        }).done(function(response) {\r\n            if(response['error']) {\r\n                for(let i in response['error']) {\r\n                    $self.find(`input[name=\"${i}\"]`).effect('shake', shakeUiConfig);\r\n                }\r\n            } else {\r\n                roistatStatus(response);\r\n            }\r\n\r\n            setTimeout(() => {\r\n                if(response['error'] || response['status'] !== 'send') {\r\n                    $submitBtn.removeAttr('disabled').html(stateBtnText[0]);\r\n                } else {\r\n                    $submitBtn.removeClass('flashed').addClass('btn--success').html(stateBtnText[2]);\r\n                }\r\n            }, 300);\r\n        }).fail(function(xhr, ajaxOptions, thrownError) {\r\n            alert(thrownError + \"\\r\\n\" + xhr.statusText + \"\\r\\n\" + xhr.responseText);\r\n        });\r\n    });\r\n}\r\n\r\nfunction quizz() {\r\n    let btnNext = '#calcStepperNextBtn';\r\n    let $inputCurrentStepper;\r\n    let $checkedInputCurrentStepper;\r\n    let stateActiveClassName = 'active';\r\n    let stateCompletedClassName = 'completed';\r\n    let input = '#calcStepperInner input';\r\n    let statehiddenClassName = 'is-offset';\r\n    let stateVisibleClassName = 'not-offset';\r\n    let steps = $('#calcStepperInner > div').length;\r\n    let StepperNavItemClassName = 'js-calc-stepper';\r\n    let stepperIndex = 1;\r\n\r\n    stepperInit();\r\n\r\n    $('.js-open-calc').on('click', function() {\r\n        stepper(stepperIndex);\r\n        $('#calcStepIntro').removeClass(stateVisibleClassName).addClass(statehiddenClassName);\r\n        $('#calcTabShowcaseStepper').removeClass('intro');\r\n        $('.js-calc-gift').appendTo('.js-calc-last-step');\r\n    });\r\n\r\n    $(btnNext).on('click', function() { \r\n        if(stepperIndex < steps) {\r\n            stepperIndex = stepperIndex + 1;\r\n            stepper(stepperIndex);\r\n        }\r\n    });\r\n\r\n    /* Navigate through stepper by clicking list-item if this stepper has been already completed */\r\n    $(document).on('click', `.${StepperNavItemClassName}`, function() {\r\n        stepperIndex = $(this).index() + 1;\r\n\r\n        if($(this).hasClass(stateCompletedClassName)) {\r\n            stepper(stepperIndex);\r\n        }\r\n    });\r\n\r\n    $(input).on('change', function() {\r\n        let self = this;\r\n        let $self = $(self);\r\n        let inputNme = $(this).attr('name');\r\n        let inputValue = self.value;\r\n\r\n        if(inputNme === 'product') {\r\n            $('.js-calc-patt-prod').hide();\r\n            $(`.js-calc-patt-prod[data-product=\"${inputValue}\"]`).show();\r\n            $('#calcTabShowcaseStepper').removeClass('intro').addClass('product');\r\n            $(`.${StepperNavItemClassName}`).removeClass(stateCompletedClassName);\r\n            \r\n        } else if(inputNme === 'pattern') {\r\n            let image = '';\r\n\r\n            for(let i = 0; i < 40; i++) {\r\n                image += `<svg width=\"100\" height=\"100\"><use xlink:href=\"#${inputValue}\"></use></svg>`;\r\n            }\r\n\r\n            $('#calcTabShowcaseStepper').html(`${image}`);\r\n        } else if(inputNme === 'color1') {\r\n            $('#calculator .user-color-1').css('fill', `${inputValue}`);\r\n        } else if(inputNme === 'color2') {\r\n            $('#calculator .user-color-2').css('fill', `${inputValue}`);\r\n        }\r\n\r\n        monitorCurrentStepper();\r\n    });\r\n\r\n    $('#calcResetForm').on('click', function() {\r\n        calcReset();\r\n    });\r\n\r\n    function slider() {\r\n        let min = 30;\r\n        let max = 1000;\r\n        let value = min;\r\n        \r\n        $('#calcStepperSurface').on('input', function(){\r\n            value = this.value;\r\n            if(value > max) {\r\n                value = max;\r\n            }\r\n            this.value = value;\r\n        });\r\n        $('#calcStepperSurface').on('focusout', function() {\r\n            value = this.value;\r\n    \r\n            if(value < min) {\r\n                value = min;\r\n            }\r\n    \r\n            this.value = value;\r\n    \r\n        });\r\n        $('#calcStepperSurface').on('keypress', function() {\r\n            if(event.keyCode==13){\r\n            value = this.value;\r\n    \r\n            if(value < min) {\r\n                value = min;\r\n            }\r\n    \r\n            this.value = value;\r\n            }\r\n        });\r\n    }\r\n\r\n    \r\n\r\n    function monitorCurrentStepper() {\r\n        $inputCurrentStepper = $('#calcStepperInner > .active').find('input[type=\"radio\"]:visible');\r\n        $checkedInputCurrentStepper = $inputCurrentStepper.filter(':checked');\r\n        controls();\r\n    }\r\n\r\n    function stepperInit() {\r\n        for(let i = 0; i < steps; i++) {\r\n            $('#calcStepperList').append(`<li class=\"${StepperNavItemClassName}\"></li>`);\r\n        }\r\n        stepper(stepperIndex);\r\n    \r\n        $('#calcStepperInner').css('margin-bottom', 0);\r\n        \r\n        slider();\r\n    }\r\n\r\n    function calcReset() {\r\n        stepperIndex = 1;\r\n        $('#calcForm input[type=\"radio\"]').removeAttr('checked');\r\n        $('#calculator .user-color-1, #calculator .user-color-2').css('fill', '#fff');\r\n        $(`.${StepperNavItemClassName}`).removeClass(`${stateActiveClassName} ${stateCompletedClassName}`);\r\n        $('#calcStepEnd').hide();\r\n        $('#calcForm').fadeIn();\r\n        $('#calcStepIntro').removeClass(statehiddenClassName).addClass(stateVisibleClassName);\r\n        $('#calcTabShowcase').removeClass('ready');\r\n        $('#calcTabShowcaseStepper').removeClass('product').addClass('intro').html('');\r\n        $('.js-calc-gift').appendTo('#calcStepIntro');\r\n    }\r\n\r\n    function controls() {\r\n        if($inputCurrentStepper.length > 0 && $checkedInputCurrentStepper.length < 1) {\r\n            $(btnNext).attr('disabled', 'disabled');\r\n        } else {\r\n            $(btnNext).removeAttr('disabled');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Go to specific step\r\n     * \r\n     * @param {*} index: represent the index of the stepper's div\r\n     */\r\n    function stepper(index) {\r\n        stepperIndex = index;\r\n        let step = index - 1;\r\n\r\n        // Stepper list\r\n        $(`.${StepperNavItemClassName}.${stateActiveClassName}`).removeClass(stateActiveClassName).addClass(stateCompletedClassName);\r\n        $(`.${StepperNavItemClassName}`).eq(step).removeClass(stateCompletedClassName).addClass(stateActiveClassName);\r\n\r\n        // Stepper inner\r\n        $(`#calcStepperInner > div.${stateActiveClassName}`).hide().removeClass(stateActiveClassName).promise().done(function() {\r\n            $('#calcStepperInner > div').eq(step).fadeIn().addClass(stateActiveClassName);\r\n        });\r\n\r\n        // Controls\r\n        $(btnNext).val(index);\r\n        \r\n        if(index < steps) {\r\n            $('#calcStepperControls').show();\r\n            $('#calcTabShowcase').removeClass('ready');\r\n        } else {\r\n            $('#calcStepperControls').hide();\r\n            $('#calcTabShowcase').addClass('ready');\r\n        }\r\n\r\n        monitorCurrentStepper();\r\n    }\r\n}\r\n\r\nfunction roistatStatus(roistat) {\r\n\r\n    if(roistat.status === 'send') {\r\n        window.location.href = '/index.php?route=checkout/success';\r\n    } else {\r\n        $.fancybox.open({\r\n            src: '#modalFail',\r\n            type: 'inline',\r\n            opt: {\r\n                smallBtn: false,\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\nfunction fancybox() {\r\n    let elts = '.js-modal, .js-download-catalog, .js-nav-top-link, .js-nav-actions-link, .js-callback';\r\n\r\n    $(document).on('click', elts, function(e) {\r\n        e.preventDefault();\r\n        let source  = $(this).attr('href');\r\n        let type = $(this).data('type');\r\n        \r\n        if(!source) {\r\n            source = $(this).data('target');\r\n        }\r\n\r\n        if(!type) {\r\n            type = 'inline';\r\n        }\r\n\r\n        if(source.charAt(0) !== '#' || type === 'ajax') {\r\n            $.fancybox.open({\r\n                href: source,\r\n                type: 'ajax',\r\n            });\r\n        } else {\r\n            $.fancybox.open({\r\n                src: source,\r\n                type: 'inline',\r\n                autofocus: false,\r\n                touch: false,\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nfunction sortProducts() {\r\n    $(document).on('click', '.js-catalog-sort', function(e) {\r\n        e.preventDefault();\r\n        $('.js-catalog-sort').not($(this)).attr('title', '-');\r\n        let link = $(this).attr('href');\r\n        let title = $(this).attr('title');\r\n        let self = $(this);\r\n\r\n        if(title === 'возрастанию') {\r\n            link = link + 'DESC';\r\n        } else {\r\n            link = link + 'ASC';\r\n        }\r\n\r\n        $.ajax({\r\n            url: link,\r\n            type: 'GET',\r\n\r\n            beforeSend: function() {\r\n                $('#mainContainer').addClass('loading');\r\n            },\r\n            complete: function() {\r\n                $('#mainContainer').removeClass('loading');\r\n                if(title === 'возрастанию') {\r\n                    self.attr('title', 'убыванию');\r\n                } else {\r\n                    self.attr('title', 'возрастанию');\r\n                }\r\n            }\r\n        })\r\n        .done(function(response) {\r\n            $('#mainContainer').replaceWith($(response).find('#mainContainer'));\r\n            $('.js-catalog-products-list-img').autoHeight(195, '.js-catalog-products-list-name');\r\n        });\r\n    });\r\n}\r\n\r\nfunction ocFilter() {\r\n    let arrayOptions = {};\r\n    let arrayLink = [];\r\n    let commonPageLink = window.location.protocol + '//' + window.location.hostname + ':' + window.location.port + window.location.pathname;\r\n    let path = $('#path').val();\r\n    let link = undefined;\r\n    let minVal = undefined;\r\n    let maxVal = undefined;\r\n    let range = undefined;\r\n\r\n    $(document).on('click', '.js-ocf-value-link', function(e) {\r\n        e.preventDefault();\r\n\r\n        if(path != $('#path').val()) {\r\n            arrayOptions = {};\r\n            arrayLink = [];\r\n            commonPageLink = window.location.protocol + '//' + window.location.hostname + ':' + window.location.port + window.location.pathname;\r\n            path = $('#path').val();\r\n        }\r\n        \r\n        let param =  $(this).attr('href').split('/');\r\n        let option = param[param.length - 2];\r\n        let value = param[param.length - 1];\r\n\r\n        // Collect element of link\r\n        if(option in arrayOptions) {\r\n            let arrayOption = arrayOptions[option];\r\n\r\n            if(arrayOption.includes(value)) {\r\n                arrayOption.splice(arrayOption.indexOf(value), 1 );;\r\n            } else {\r\n                arrayOption.push(value);\r\n            }\r\n        } else {\r\n            arrayOptions[option] = [value];\r\n        }\r\n\r\n        // Create the new link\r\n        let arrayEntries = Object.entries(arrayOptions);\r\n        arrayLink = [];\r\n\r\n        for(let [option, value] of arrayEntries) {\r\n            if(value.length > 0) {\r\n                arrayLink.push(option + '/' + value.join('/'));\r\n            }\r\n        }\r\n\r\n        link = commonPageLink + arrayLink.join('/');\r\n        if (range) {\r\n            link = link + '/price/' + range;\r\n        }\r\n\r\n        $.ajax({\r\n            url: link,\r\n            type: 'post',\r\n\r\n            beforeSend: function() {\r\n                $('main').addClass('loading');\r\n            },\r\n            complete: function() {\r\n                $('main').removeClass('loading');\r\n            }\r\n        }).done(function(response, status) {\r\n            if(status === 'success') {\r\n                $('#catalogue').replaceWith($(response).find('#catalogue'));\r\n                $('.js-catalog-products-list-img').autoHeight(195, '.js-catalog-products-list-name');\r\n                window.history.pushState(null, 'Catalog', link);\r\n            }\r\n        });\r\n    });\r\n\r\n    $(document).on('slide', '#ocfPriceScale', function(event, ui) {\r\n        minVal = ui.values[0];\r\n        maxVal = ui.values[1];\r\n        range = minVal + '-' + maxVal;\r\n        $('#ocfMinPrice').val(minVal);\r\n        $('#ocfMaxPrice').val(maxVal);\r\n    });\r\n\r\n    $(document).on('input', '#ocfMinPrice, #ocfMaxPrice', function() {\r\n        minVal = $('#ocfMinPrice').val();\r\n        maxVal = $('#ocfMaxPrice').val();\r\n        range = minVal + '-' + maxVal;\r\n        $('#ocfPriceScale').slider('option', 'values', [minVal, maxVal]);\r\n    });\r\n\r\n    $(document).on('change', '#ocfMinPrice, #ocfMaxPrice', function() {\r\n        $('#ocfPriceScale').trigger('slidestop');\r\n    });\r\n\r\n    $(document).on('slidestop', '#ocfPriceScale', function(event, ui) {\r\n        $.ajax({\r\n            url: window.location.href + '/price/' + range,\r\n            type: 'post',\r\n\r\n            beforeSend: function() {\r\n                $('#wrapper').addClass('loading');\r\n            }\r\n        }).done(function(response, status) {\r\n            if(status === 'success') {\r\n                $('#catalogue').replaceWith($(response).find('#catalogue'));\r\n                $('.js-catalog-products-list-img').autoHeight(195, '.js-catalog-products-list-name');\r\n            }\r\n        }).always(function() {\r\n            $('#wrapper').removeClass('loading');\r\n        });\r\n    });\r\n}\r\n\r\nfunction navCategory() {\r\n    $(document).on('click', '.js-ajax-nav-category-link', function(e) {\r\n        e.preventDefault();\r\n        let link = this.href;\r\n\r\n        $.ajax({\r\n            url: link,\r\n            type: 'GET',\r\n            beforeSend: function() {\r\n                $('#wrapper').addClass('loading');\r\n            }\r\n        }).done(function(response) {\r\n            $('#wrapper').replaceWith($(response).find('#wrapper'));\r\n            window.history.pushState(null, null, link);\r\n        }).always(function() {\r\n            $('#wrapper').removeClass('loading');\r\n        });\r\n    });\r\n}\r\n\r\nfunction searchBar() {\r\n    let $input = $('#jsSearchBlockInput');\r\n    let $searchBtn = $('#jsSearchBtn');\r\n    let $closeBtn = $('#jsCloseSearchBlock');\r\n    let $openBtn = $('.js-open-search-block');\r\n    let value = $input.val();\r\n    let $results = $('#jsSearchOutput');\r\n    let minValueLength = 0;\r\n\r\n    $input.on('keyup', function() {\r\n        value = $input.val();\r\n\r\n        if(value.length > minValueLength) {\r\n            $results.fadeIn(0);\r\n            searchFor(value);\r\n        } else {\r\n            $results.fadeOut(0);\r\n        }\r\n    });\r\n\r\n    $openBtn.on('click', function() {\r\n        $('#jsSearchBlock').fadeIn();\r\n        setTimeout(function() {\r\n            $('#jsSearchBlockInner').switchClass('is-offset', 'not-offset', 100);\r\n        }, 100);\r\n    });\r\n\r\n    $closeBtn.on('click', function() {\r\n        $('#jsSearchBlockInner').switchClass('not-offset', 'is-offset', 100);\r\n        $('#jsSearchBlock').fadeOut();\r\n    });\r\n    \r\n    function searchFor(keyword) {\r\n        let link = 'index.php?route=product/search&search=' + keyword;\r\n\r\n        $.ajax({\r\n            url: 'index.php?route=product/product/autocomplete&filter_name=' + keyword,\r\n            type: 'post',\r\n            dataType: 'json',\r\n\r\n            success: function(json) {\r\n                searchPreview(json);\r\n            }\r\n        });\r\n\r\n        $searchBtn.on('click', function() {         \r\n            if(value.length > 0) {\r\n                window.location.href = link;\r\n            } else {\r\n                $input.focus();\r\n            }\r\n        });\r\n    \r\n        $input.keypress(function(e) {\r\n            if(e.which === 13) {\r\n                window.location.href = link;\r\n            }\r\n        });\r\n    }\r\n\r\n    function searchPreview(data = {}) {\r\n        if(data) {\r\n            $results.html('<ul class=\"search-block__list\"></ul>');\r\n            $.each(data, function(index, item) {\r\n                $results.find('ul').append(\r\n                    '<li class=\"search-block__list-item\" data-value=\"' + item['value'] + '\">' +\r\n                    '<a href=\"' + item['href'] + '\" class=\"search-block__link\">' +\r\n                    '<div class=\"search-block__img\"><img src=\"' + item['image'] + '\" alt=\"\"></div>' +\r\n                    '<div class=\"search-block__infos\">' +\r\n                    '<p class=\"search-block__name\">' + item['name'] + '</p>' +\r\n                    '<p class=\"search-block__price-default\">' + item['price'] + '</p></div>' +\r\n                    '</a></li>'\r\n                );\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nfunction fixedHeader() {\r\n    let $header = $('#headerTop');\r\n    let $nav = $('#navbar');\r\n    let fixedHeaderClassName = 'is-sticked';\r\n    //let headerPosBot = $header.offset().top + $header.outerHeight(true);\r\n    let headerPosBot = 40;\r\n\r\n    $(window).on('load resize scroll', function() {\r\n        if(headerPosBot > window.pageYOffset) {\r\n            if($nav.hasClass(fixedHeaderClassName)) {\r\n                $nav.removeClass(fixedHeaderClassName);\r\n            }\r\n        } else if (headerPosBot + 12 < window.pageYOffset){\r\n            if(!$nav.hasClass(fixedHeaderClassName)) {\r\n                $nav.addClass(fixedHeaderClassName);\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nfunction navbar() {\r\n    let $mobNavBtn = $('.js-open-mob-nav');\r\n    let $mobnav = $('#mobNav');\r\n    let $mobNavInner = $('#mobNavInner');\r\n    let visibleClass = 'not-offset';\r\n    let hiddenClass = 'is-offset';\r\n    let btnStatus = 'active';\r\n\r\n    $mobNavBtn.on('click', function() {\r\n        if($(this).hasClass(btnStatus)) {\r\n            $mobNavInner.switchClass(visibleClass, hiddenClass, 300);\r\n            setTimeout(function() {\r\n                $mobnav.fadeOut();\r\n            }, 100);\r\n            $(this).switchClass(btnStatus, '');\r\n        } else {\r\n            $mobnav.fadeIn();\r\n            $mobNavInner.switchClass(hiddenClass, visibleClass, 300);\r\n            $(this).switchClass('', btnStatus);\r\n        }\r\n    });\r\n}\r\n\r\nfunction popups() {\r\n    let $elt = $('.js-call-popup');\r\n\r\n    $elt.on('mouseenter', function() {\r\n        let popup = $(this).data('popup');\r\n\r\n        $(this).after($(popup));\r\n    });\r\n}\r\n\r\nfunction citySelection() {\r\n    $(document).on('click', '#headerCities', function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // Force trigger checked label's input clicked\r\n        $('#'+$(e.target).attr('for')).prop('checked',true);\r\n        if($(this).hasClass('expanded')) {\r\n            let link = $(this).find('input:checked').val();\r\n            if(link != 'false') {\r\n                window.location.assign(link);\r\n            }\r\n        }\r\n        $(this).toggleClass('expanded');\r\n    });\r\n    $(document).click(function() {\r\n        $('#headerCities').removeClass('expanded');\r\n    });\r\n}\r\n\r\nfunction scrollToTop() {\r\n    var $s = $('.js-stt');\r\n    if ($s.length && window.innerWidth > 767) {\r\n        $(window).scroll(function(){\r\n            if ($(this).scrollTop() > 300){\r\n                $s.addClass('active');\r\n            } else {\r\n                $s.removeClass('active');\r\n            }\r\n        });\r\n         $s.on('click', function(e){\r\n            $('html, body').animate({\r\n                scrollTop: 0\r\n            }, 400);\r\n             e.preventDefault();\r\n         });\r\n    }\r\n}\r\n\r\nfunction tabs() {\r\n    $('.js-tab-btn').tabs();\r\n}\r\n\r\nfunction accordion() {\r\n    $(document).on('click', '.js-accordion', function(e) {\r\n        e.preventDefault();\r\n        let $panel = $(this).next();\r\n        \r\n        $(this).toggleClass('is-hidden');\r\n        $panel.toggle('blind');\r\n    });\r\n}\r\n\r\nfunction cartStep() {\r\n    let form = '#formCart';\r\n    let formBtnControl = '.js-cart-control-btn';\r\n    let submitOrderBtn = '#cartSubmitOrderBtn';\r\n    let inputPaymentMethod = 'input[name=\"paymentMethod\"]';\r\n\r\n    /**\r\n     * On click, determine the next step index;\r\n     * Then, update cart_user database;\r\n     * Move to step according to its index\r\n     */\r\n    $(document).on('click', formBtnControl, function(e) {\r\n        e.preventDefault();\r\n        let $self = $(this);\r\n        let nextStep = this.value;\r\n        let data = $(form).serialize() + '&step=' + nextStep;\r\n\r\n        $.ajax({\r\n            url: 'index.php?route=checkout/cart_user',\r\n            type: 'POST',\r\n            data: data,\r\n        }).done(function(response) {\r\n            if(response['error']) {\r\n                for(let i in response['error']) {\r\n                    $(form).find(`input[name=\"${i}\"]`).effect('shake', shakeUiConfig);\r\n                }\r\n            } else {\r\n                stepper(data);\r\n            }\r\n        }).fail(function(xhr, ajaxOptions, thrownError) {\r\n            alert(thrownError + \"\\r\\n\" + xhr.statusText + \"\\r\\n\" + xhr.responseText);\r\n        });\r\n    });\r\n\r\n    /**\r\n     * Stepper\r\n     */\r\n    let stepper = function(data) {\r\n        $.ajax({\r\n            url: 'index.php?route=checkout/cart',\r\n            type: 'POST',\r\n            data: data,\r\n            beforeSend: function() {\r\n                $(`${form}, #formCartResult`).addClass('loading loader--centered');\r\n            },\r\n            complete: function() {\r\n                $(`${form}, #formCartResult`).removeClass('loading loader--centered');\r\n            }\r\n        }).done(function(response) {\r\n            $('#cart').replaceWith($(response).find('#cart'));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Hide Delivery form if input[name=delivey[status]] is unchecked\r\n     */\r\n    $(document).on('change', '.js-cart-del-check-status', function() {\r\n        if($(this).is(':checked')) {\r\n            $('#jsCartDelForm').removeClass('disabled');\r\n            $('#jsCartDelForm').find('.input:disabled').removeAttr('disabled');\r\n        } else {\r\n            $('#jsCartDelForm').addClass('disabled');\r\n            $('#jsCartDelForm').find('.input').attr('disabled', 'disabled');\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Updated totalPrice on paymentMethod change\r\n     */\r\n    $(document).on('change', inputPaymentMethod, function() {\r\n        $.ajax({\r\n            url: 'index.php?route=checkout/cart/pricesByPaymentMethod',\r\n            type: 'POST',\r\n            data: {paymentMethod: this.value},\r\n            dataType: 'JSON'\r\n        }).done(function(response) {\r\n            $('.js-cart-total-price').html(response.totalPrice);\r\n        });\r\n    });\r\n\r\n    /**\r\n     * \r\n     */\r\n    $(document).on('click', submitOrderBtn, function() {\r\n        $.ajax({\r\n            url: 'index.php?route=checkout/cart_user/submitOrder',\r\n            type: 'POST',\r\n            beforeSend: function() {\r\n                $('#cart').addClass('loading');\r\n            },\r\n            complete: function() {\r\n                //$('#cart').removeClass('loading');\r\n            }\r\n        }).done(function(response) {\r\n            if(response.success == 1) {\r\n                $.ajax({\r\n                    url: 'mail/buy-product.php',\r\n                    type: 'POST',\r\n                    data: response,\r\n                }).done(function() {\r\n                    window.location.assign(response.redirect)\r\n                })\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nfunction cartActions() {\r\n    let btnFastAdd = '.js-cart-fast-add';\r\n    let form = '#buyProduct';\r\n    let btnRemove = '.js-cart-remove';\r\n    let btnClear = '.js-cart-clear';\r\n    let spinner = '.js-cart-spinner';\r\n    let min = 1;\r\n    let value = 1;\r\n\r\n    $(document).on('input', spinner, function() {\r\n        if(this.value < min) {\r\n            this.value = value;\r\n        } else {\r\n            value = this.value;\r\n        }\r\n    });\r\n\r\n    $(document).on('change', spinner, function(e) {\r\n        e.preventDefault();\r\n        let $form = $(this).closest('form');\r\n        let data = $form.serialize();\r\n\r\n        cart.update(data);\r\n    });\r\n\r\n    $(document).on('click', btnFastAdd, function(e) {\r\n        e.preventDefault();\r\n\r\n        let productCard = $(this).closest('.product-card');\r\n        let params = productCard.data('params') !== null ? productCard.data('params') : {};\r\n        let $this = $(this);\r\n        params['product_id'] = $this.val();\r\n\r\n        if ($this.prop('added') == true) {\r\n            $('.js-counter').trigger('click');\r\n            return;\r\n        }\r\n\r\n        cart.fastAdd(params, function() {\r\n            $this.html('в корзине').addClass('checked-cart').prop('added', true);\r\n\r\n            let image = productCard.find('img');\r\n\r\n            cartAnimation(image, $this, image.width());\r\n        });\r\n    });\r\n\r\n    $(document).on('click', btnRemove, function(e) {\r\n        e.preventDefault();\r\n        let id = this.value;\r\n\r\n        cart.remove(id);\r\n    });\r\n\r\n    $(document).on('submit', form, function(e) {\r\n        e.preventDefault();\r\n        let button = $(form).find('[type=submit]');\r\n        if (button.prop('added') == true) {\r\n            $('.js-counter').trigger('click');\r\n            return;\r\n        }\r\n        let data = $(this).serialize();\r\n\r\n        cart.add(data, function() {\r\n            button.html('В корзине').removeClass('btn--yellow').addClass('btn--green').prop('added', true);\r\n\r\n            let image = $(form).find(\".js-control__img\").find(\"img\");\r\n            let startWidth = 150;\r\n            cartAnimation(image, button, startWidth);\r\n        });\r\n    });\r\n\r\n    $(document).on('click', btnClear, function(e) {\r\n        e.preventDefault();     \r\n        cart.clear();\r\n    });\r\n}\r\n\r\nfunction cartAnimation(img, from, startWidth) {\r\n    let cartObj = $(\".js-call-popup:visible\").last();\r\n    let endWidth = 20;\r\n    img.clone()\r\n                .css({\r\n                    'width': startWidth,\r\n                    'position': 'absolute',\r\n                    'z-index': '9999',\r\n                    top: from.offset().top,\r\n                    left: from.offset().left\r\n                })\r\n                .appendTo(\"body\")\r\n                .animate({\r\n                    opacity: 0.05,\r\n                    left: cartObj.offset().left,\r\n                    top: cartObj.offset().top,\r\n                    width: endWidth\r\n                }, 1000, function() {\r\n                    $(this).remove();\r\n                });\r\n}\r\n\r\nfunction inputmask() {\r\n    $('input[name=\"phone\"]').inputmask({mask:\"+ 7 (999) 999 - 99 - 99\", clearIncomplete: true});\r\n    $('input[name=\"email\"], .js-email').inputmask({alias:\"email\", \"clearIncomplete\": true});\r\n}\r\n\r\nfunction switchWebsite() {\r\n\r\n        if(window.location.hostname.includes('opt')) { \r\n            $('.js-nav__link').html(\"Розничным покупателям\") \r\n            $('.js-nav__link').attr(\"href\", `${window.location.protocol}//${window.location.hostname.replace(\"opt.\",\"\")}`)\r\n            } else { \r\n            $('.js-nav__link').html(\"Оптовым покупателям\") \r\n            $('.js-nav__link').attr(\"href\", `${window.location.protocol}//opt.${window.location.hostname}`)\r\n            }\r\n    \r\n    $('#headerSwitcherToggle').on('change', function(){\r\n        let path = window.location.hostname;\r\n\r\n        if(path.includes('opt')) {\r\n            link = path.replace('opt.', '')\r\n            window.location.assign(`${window.location.protocol}//${link}`);\r\n        } else {\r\n            window.location.assign(`${window.location.protocol}//opt.${path}`);\r\n        }\r\n    });\r\n\r\n\r\n}\r\n\r\nfunction delCompute() {\r\n    let $locs = $('#delCompLocs');\r\n    let $result = $('#delCompResult');\r\n\r\n    $('#delCompLocs .js-btn-next').on('click', function() {\r\n        $locs.hide();\r\n        $result.fadeIn();\r\n    });\r\n\r\n    $('#delCompResult .js-btn-prev').on('click', function() {\r\n        $result.hide();\r\n        $locs.fadeIn();\r\n    });\r\n}\r\n\r\nfunction formConsultation() {\r\n    let $chrono, chrono;\r\n    let number = 5;\r\n    \r\n    $('.js-form-consultation').on('submit', function(e) {\r\n        e.preventDefault();\r\n        let data = $(this).serialize();\r\n        data = data + '&percent=' + number;\r\n\r\n        $.ajax({\r\n            url: '/mail/consultation.php',\r\n            type: 'POST',\r\n            data: data,\r\n        }).done(function(response) {\r\n            roistatStatus(response);\r\n        }).fail(function() {\r\n\r\n        }).always(function() {\r\n\r\n        });\r\n    });\r\n\r\n    // appear({\r\n    //  init: function init(){\r\n    //      $chrono = $('#chrono');\r\n    //      $chrono.html(number + ' %');\r\n    //  },\r\n    //  elements: function elements(){\r\n    //       return $chrono;\r\n    //  },\r\n    //  appear: function appear(el){\r\n    //      function startChrono() {\r\n    //          chrono = setInterval(function() {\r\n    //              number = (number - 0.01).toFixed(2);\r\n                    \r\n    //              $(el).html(number + ' %')\r\n    //              if($('#consultation .js-phone').inputmask('isComplete')) {\r\n    //                  stopChrono();\r\n    //              };\r\n\r\n    //              if(number < 1) {\r\n    //                  stopChrono();\r\n    //              }\r\n    //          }, 1000);\r\n    //      }\r\n\r\n    //      function stopChrono() {\r\n    //          clearInterval(chrono);\r\n    //      }\r\n\r\n    //      startChrono();\r\n    //  },\r\n    //  bounds: 200,\r\n    //  reappear: false\r\n    // });\r\n}\r\n\r\nfunction downloadFile() {\r\n    $(document).on('click', '.js-download-file', function() {\r\n        let filename = $(this).data('file');\r\n        let url = 'https://assets.mos-bruschatka.ru/downloads/' + filename;\r\n        download(url);\r\n    });\r\n}\r\n\r\nfunction download(dataurl) {\r\n    var a = document.createElement(\"a\");\r\n    a.href = dataurl;\r\n    a.target = '_blank';\r\n    var b = document.createEvent(\"MouseEvents\");\r\n    b.initEvent(\"click\", false, true);\r\n    a.dispatchEvent(b);\r\n    return false;\r\n}\r\n\r\nfunction wrapperMinHeight() {\r\n    let windowHeight = $(window).height();\r\n    $('#wrapper').css('min-height', (windowHeight - (200 + $('#footer').outerHeight(true) + $('#header').outerHeight(true))));\r\n}\r\n\r\nfunction ajaxRequest() {\r\n    $(document).on('click', '.js-ajax', function(e) {\r\n        e.preventDefault();\r\n        let $self = $(this);\r\n        let link = $(this).attr('href');\r\n        let target = $(this).data('target');\r\n\r\n        if(!link) {\r\n            link = $(this).data('url');\r\n        }\r\n\r\n        if($self.hasClass('active')) {\r\n            return false;\r\n        }\r\n\r\n        $.ajax({\r\n            url: link,\r\n            type: 'GET',\r\n            beforeSend: function() {\r\n                $('.js-ajax.active').switchClass('active', '', 100).promise().done(function() {\r\n                    $self.switchClass('', 'active', 100);\r\n                });\r\n            }\r\n        }).done(function(response) {\r\n            $(target).replaceWith($(response).find(target));\r\n        });\r\n    });\r\n}\r\n\r\nfunction customSelect() {\r\n    let x, i, j, selElmnt, a, b, c;\r\n    /*look for any elements with the class \"custom-select\":*/\r\n    x = document.getElementsByClassName(\"custom-select\");\r\n    for (i = 0; i < x.length; i++) {\r\n        selElmnt = x[i].getElementsByTagName(\"select\")[0];\r\n        /*for each element, create a new DIV that will act as the selected item:*/\r\n        a = document.createElement(\"DIV\");\r\n        a.setAttribute(\"class\", \"select-selected\");\r\n        a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;\r\n        x[i].appendChild(a);\r\n        /*for each element, create a new DIV that will contain the option list:*/\r\n        b = document.createElement(\"DIV\");\r\n        b.setAttribute(\"class\", \"select-items select-hide\");\r\n        for (j = 1; j < selElmnt.length; j++) {\r\n            /*for each option in the original select element,\r\n            create a new DIV that will act as an option item:*/\r\n            c = document.createElement(\"DIV\");\r\n            c.innerHTML = selElmnt.options[j].innerHTML;\r\n            c.addEventListener(\"click\", function(e) {\r\n                /*when an item is clicked, update the original select box,\r\n                and the selected item:*/\r\n                let y, i, k, s, h;\r\n                s = this.parentNode.parentNode.getElementsByTagName(\"select\")[0];\r\n                h = this.parentNode.previousSibling;\r\n                for (i = 0; i < s.length; i++) {\r\n                    if (s.options[i].innerHTML == this.innerHTML) {\r\n                        s.selectedIndex = i;\r\n                        h.innerHTML = this.innerHTML;\r\n                        y = this.parentNode.getElementsByClassName(\"same-as-selected\");\r\n                        \r\n                        for (k = 0; k < y.length; k++) {\r\n                            y[k].removeAttribute(\"class\");\r\n                        }\r\n\r\n                        this.setAttribute(\"class\", \"same-as-selected\");\r\n                        break;\r\n                    }\r\n                }\r\n                h.click();\r\n            });\r\n\r\n            b.appendChild(c);\r\n        }\r\n\r\n        x[i].appendChild(b);\r\n\r\n        a.addEventListener(\"click\", function(e) {\r\n            /*when the select box is clicked, close any other select boxes,\r\n            and open/close the current select box:*/\r\n            e.stopPropagation();\r\n            closeAllSelect(this);\r\n            this.nextSibling.classList.toggle(\"select-hide\");\r\n            this.classList.toggle(\"select-arrow-active\");\r\n        });\r\n    }\r\n\r\n    function closeAllSelect(elmnt) {\r\n        /*a function that will close all select boxes in the document,\r\n        except the current select box:*/\r\n        let x, y, i, arrNo = [];\r\n        x = document.getElementsByClassName(\"select-items\");\r\n        y = document.getElementsByClassName(\"select-selected\");\r\n        for (i = 0; i < y.length; i++) {\r\n            if (elmnt == y[i]) {\r\n                arrNo.push(i)\r\n            } else {\r\n                y[i].classList.remove(\"select-arrow-active\");\r\n            }\r\n        }\r\n        for (i = 0; i < x.length; i++) {\r\n            if (arrNo.indexOf(i)) {\r\n                x[i].classList.add(\"select-hide\");\r\n            }\r\n        }\r\n    }\r\n    /*if the user clicks anywhere outside the select box,\r\n    then close all select boxes:*/\r\n    document.addEventListener(\"click\", closeAllSelect);\r\n}\r\n\r\nfunction filialsAddress() {\r\n    $(document).on('click', '#filialsAddress', function() {\r\n        let self = $(this);\r\n        let value = $(this).find('option:selected').val();\r\n        let target = $(this).find('option:selected').data('target');\r\n\r\n        $('.js-filials-info').each(function() {\r\n            $(this).hide();\r\n        }).promise().done(function() {\r\n            $(target).fadeIn();\r\n        });\r\n    });\r\n}\r\n\r\nfunction animScroll() {\r\n    $('.js-anim-scroll').on('click', function(e) {\r\n        e.preventDefault();\r\n        let $self = $(this);\r\n        let target = $self.attr('href');\r\n        \r\n        if(!target) {\r\n            target = $self.data('target');\r\n        }\r\n\r\n        if( $(target).length ) {\r\n            $('html, body').animate({\r\n                scrollTop: $(target).offset().top - 50\r\n            }, 900);\r\n        }\r\n    });\r\n}\r\n\r\nfunction extendMap() {\r\n    let containerWidth = $('.js-get-margin').width();\r\n    let windowWidth = $(window).width();\r\n    let margin = (windowWidth - containerWidth) / 2;\r\n\r\n    $('#visitUsMap').css('width', 'calc(100% + ' + margin + 'px)');\r\n}\r\n\r\nfunction unclassified() {\r\n    $('input, textarea').placeholder();\r\n    \r\n    $(document).on('click', '#jsCatDescFullHeight', function() {\r\n        $('#jsCatDesc').toggleClass('collapsed');\r\n        $(this).toggleClass('is-collapsed');\r\n    });\r\n\r\n    // Product-page\r\n    $(document).on('change', '.radiobox-colors__list-item input', function() {\r\n        let myId = $(this).attr('id');\r\n        let $label = $(`.label--color[for=\"${myId}\"]`);\r\n        let color = $label.attr('title');\r\n        \r\n        $('.js-content-color').html(color);\r\n        $label.find('a').click();\r\n    });\r\n}\r\n\r\nfunction downloadCatalogCounter() {\r\n    let timer, status = false, value = 5;\r\n    $('.js-modal-download-catalog-discount').val(value);\r\n\r\n    $('.js-modal[data-target=\"#modalDownloadCatalog\"], .js-modal[href=\"#modalDownloadCatalog\"]').on('click', function() {\r\n        if (status === false) {\r\n            status = true;\r\n\r\n            timer = setInterval(function() {\r\n                value = (value - 0.01).toFixed(2);\r\n\r\n                if (value < 1.01) {\r\n                    value = 1.01;\r\n                    clearInterval(timer);\r\n                }\r\n\r\n                if (value < 3) {\r\n                    $('.js-modal-download-catalog-discount').css({\r\n                        'color': '#ff0000'\r\n                    });\r\n                }\r\n\r\n                $('.js-modal-download-catalog-discount').val(value);\r\n            }, 1000);\r\n        }\r\n    });\r\n\r\n    $('#formCatalog .js-phone').on('input', function() {\r\n        if($(this).inputmask('isComplete')) {\r\n            clearInterval(timer);\r\n        }\r\n    });\r\n}\r\n\r\nfunction consultationCounter() {\r\n    let timer, status = false, value = 5;\r\n    $('.js-consultation-discount').val(value);\r\n\r\n    if (status === false) {\r\n        status = true;\r\n\r\n        timer = setInterval(function() {\r\n            value = (value - 0.01).toFixed(2);\r\n\r\n            if (value < 1.01) {\r\n                value = 1.01;\r\n                clearInterval(timer);\r\n            }\r\n\r\n            if (value < 3) {\r\n                $('.js-consultation-discount').css({\r\n                    'color': '#ff0000'\r\n                });\r\n            }\r\n\r\n            $('.js-consultation-discount').val(value);\r\n            $('.js-consultation-discount').html(value);\r\n        }, 1000);\r\n    }\r\n\r\n    $('.js-consultation-discount').closest('form').on('submit', function() {\r\n        if($(this).find('input[name=\"phone\"]').inputmask('isComplete')) {\r\n            clearInterval(timer);\r\n        }\r\n    });\r\n}\r\n\r\n$(function() {\r\n    fixedHeader();\r\n    navbar();\r\n    wrapperMinHeight();\r\n    youtube();\r\n    slickSlidersInit();\r\n    sortProducts();\r\n    ocFilter();\r\n    searchBar();\r\n    scrollToTop();\r\n    tabs();\r\n    accordion();\r\n    cartStep();\r\n    fancybox();\r\n    navCategory();\r\n    citySelection();\r\n    switchWebsite();\r\n    delCompute();\r\n    formConsultation();\r\n    downloadFile();\r\n    ajaxRequest();\r\n    customSelect();\r\n    filialsAddress();\r\n    animScroll();\r\n    cartActions();\r\n    extendMap();\r\n    popups();\r\n    downloadCatalogCounter();\r\n    consultationCounter();\r\n    forms();\r\n    quizz();\r\n\r\n    // Auto\r\n    checkInputNumber();\r\n    labelSelection();\r\n    unclassified();\r\n    lazyload();\r\n});\r\n\r\n$(document).ajaxComplete(function() {\r\n    if($('img[data-src]').length) {\r\n        lazyload();\r\n    }\r\n    inputmask();\r\n});\r\n\r\n$(window).on('load', function() {\r\n    $('.js-product-card-img').autoHeight(195, '.js-product-card-name');\r\n    $('.js-recomend-slideshow-img').autoHeight(150, '.js-recomend-slideshow-link');\r\n        if (window.innerWidth <= 576) {\r\n            $(\".js-control__media\").insertAfter(\".js-control__img\")\r\n        } else {\r\n            $(\".js-control__media\").prependTo(\".js-control__col-right\")\r\n        }\r\n    inputmask();\r\n});\r\n\r\n$(window).on('resize', function() {\r\n    $('.js-product-card-img').autoHeight(195, '.js-product-card-name');\r\n    $('.js-recomend-slideshow-img').autoHeight(150, '.js-recomend-slideshow-link');\r\n        if (window.innerWidth <= 576) {\r\n          $(\".js-control__media\").insertAfter(\".js-control__img\")\r\n        } else {\r\n          $(\".js-control__media\").prependTo(\".js-control__col-right\")\r\n        }\r\n        \r\n    scrollToTop();\r\n    extendMap();\r\n});\r\n\r\n$(window).on('scroll', function() {\r\n    \r\n})\r\n\r\n$.fn.extend({\r\n    autoHeight: function(height, item) {\r\n        return this.each(function() {\r\n            let itemHeight = $(this).closest('div').find(item).height();\r\n            let newHeight = height - itemHeight;\r\n    \r\n            $(this).height(newHeight);\r\n        });\r\n    },\r\n\r\n    tabs: function() {\r\n        return this.each(function() {\r\n            $(this).on('click', function(e) {\r\n                e.preventDefault();\r\n                let $self = $(this);\r\n                let target = $self.attr('href');\r\n\r\n                let $lastActive = $self.closest('.tabs').find('.js-tab-btn.active');\r\n                let lastTarget = $lastActive.attr('href');\r\n                \r\n\r\n                if(!target) {\r\n                    target = $(this).data('target');\r\n                }\r\n\r\n                if(!lastTarget) {\r\n                    lastTarget = $lastActive.data('target');\r\n                }\r\n\r\n                if(!$self.hasClass('active')) {\r\n                    $(lastTarget).hide().promise().done(function() {\r\n                        $(target).fadeIn();\r\n                        $self.addClass('active');\r\n                        $lastActive.removeClass('active');\r\n                    });\r\n                }\r\n            });\r\n\r\n            if($(this).hasClass('default')) {\r\n                $(this).removeClass('default');\r\n                $(this).trigger('click');\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\n//hits wholesale FancyBox init\r\n$(function() {\r\n    $('#hits.wholesale .product-card a').fancybox({type: 'ajax'});\r\n});\r\n\n\n//# sourceURL=webpack:///./src/scripts/functions.js?");

/***/ }),

/***/ "./src/scripts/metrics.js":
/*!********************************!*\
  !*** ./src/scripts/metrics.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("$(function() {\r\n\tlet ymEvent = (target) => ym(metricCode, 'reachGoal', target);\r\n\r\n\t// Скачать прайс лист (составная цель)\r\n\t$('[data-target=\"#modalDownloadCatalog\"], [href=\"#modalDownloadCatalog\"]').on('click', function() {\r\n\t\tymEvent('downloadCatalog');\r\n\t});\r\n\r\n\t$('#modalDownloadCatalog button[type=\"submit\"]').on('click', function() {\r\n\t\tymEvent('SubmitBtnDownloadCatalog');\r\n\t});\r\n\r\n\r\n\r\n\t// Перезвоните мне - Реквизиты (составная цель)\r\n\t$('[data-form-title=\"Реквизиты\"] button[type=\"submit\"]').on('click', function() {\r\n\t\tymEvent('callMe');\r\n\t});\r\n\r\n\r\n\r\n\t// Рассчитать стоимость (составная цель)\r\n\t$('[data-form-title=\"Расчет доставки\"] button[type=\"submit\"], [data-form-title=\"Рассчитать стоимость\"] button[type=\"submit\"]').on('click', function() {\r\n\t\tymEvent('calculateCost');\r\n\t});\r\n\r\n\r\n\r\n\t// Проконсультировать (Составная цель)\r\n\t$('[data-form-title=\"Консултация\"] button[type=\"submit\"], [data-form-title=\"adv3\"] button[type=\"submit\"]').on('click', function() {\r\n\t\tymEvent('consult');\r\n\t});\r\n\r\n\r\n\r\n\t// Получиь образцы (Составная цель)\r\n\t$('[data-form-title=\"Получиь образцы\"] button[type=\"submit\"]').on('click', function() {\r\n\t\tymEvent('getSamples');\r\n\t});\r\n\r\n\r\n\r\n\t// Купить в 1 клик (составная цель) (Only OPT)\r\n\t$('[data-form-title=\"Купить плитку ОПТ\"] button[type=\"submit\"]').on('click', function() {\r\n\t\tymEvent('sendRequest');\r\n\t});\r\n\r\n\r\n\r\n\t// Хочу связаться (составная цель)\r\n\t$('[data-target=\"#modalCallback\"], [href=\"#modalCallback\"]').on('click', function() {\r\n\t\tymEvent('askQuestion');\r\n\t});\r\n\r\n\t$('#modalCallback button[type=\"submit\"]').on('click', function() {\r\n\t\tymEvent('sendRequest');\r\n\t});\r\n\r\n\r\n\r\n\t// Корзина (Составная цель)\r\n\t$(document).on('click', '#formCart button[type=\"submit\"]', function() {\r\n\t\tlet step = this.value - 1;\r\n\r\n\t\tymEvent(`korzina_step${step}`);\r\n\t});\r\n\t\r\n\t$(document).on('click', '#cartSubmitOrderBtn', function() {\r\n\t\tymEvent('invoice_Generated');\r\n\t});\r\n\r\n\r\n\r\n\t// Указать контакты друга\r\n\t$('#modalSuccess button[type=\"submit\"]').on('click', function() {\r\n\t\tymEvent('SubmitBtnInviteFreind');\r\n\t});\r\n\r\n\r\n\r\n\t// Рассчитайте стоимость плитки за 2 минуты\r\n\t$('#calcStepperNextBtn').on('click', function() {\r\n\t\tlet step = this.value - 1;\r\n\r\n\t\tymEvent(`opros_step${step}`);\r\n\t});\r\n\r\n\t$('#calcForm button[type=\"submit\"]').on('click', function() {\r\n\t\tymEvent('getResult');\r\n\t});\r\n\r\n\r\n\r\n\t// Подайте заявку на партнерство\r\n\t$('[data-title=\"Заявок на партнерство\"] button[type=\"submit\"]').on('click', function() {\r\n\t\tymEvent('submit_Application');\r\n\t});\r\n\r\n\r\n\r\n\t// Популярные модели плитки (составная цель)\r\n\t$('#productCart a').on('click', function() {\r\n\t\tymEvent('buttonOpenFormBuyProduct');\r\n\t});\r\n\r\n\t$('[data-form-title=\"Купить плитку ОПТ\"] button[type=\"submit\"]').on('click', function() {\r\n\t\tymEvent('clickedButtonSubmitFormBuyProduct');\r\n\t});\r\n});\n\n//# sourceURL=webpack:///./src/scripts/metrics.js?");

/***/ }),

/***/ "./src/styles/bs4.scss":
/*!*****************************!*\
  !*** ./src/styles/bs4.scss ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/styles/bs4.scss?");

/***/ }),

/***/ "./src/styles/main.scss":
/*!******************************!*\
  !*** ./src/styles/main.scss ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/styles/main.scss?");

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = jQuery;\n\n//# sourceURL=webpack:///external_%22jQuery%22?");

/***/ })

/******/ });